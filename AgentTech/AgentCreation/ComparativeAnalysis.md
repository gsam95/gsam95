## Comparative Analysis of LLMs for Portfolio Rebalancing

This section presents a comparative analysis of different Large Language Models (LLMs) used in the AI financial portfolio rebalancer.  I evaluated OpenAI GPT-4, Groq LLaMA3-8B, and Groq LLaMA3-70B across various portfolio scenarios, measuring response accuracy, latency, tool selection efficiency, and the quality of financial advice.

For each test, the LLM was given a portfolio and asked to provide rebalancing recommendations.

### Test Methodology

I used the LLMs (OpenAI GPT4, Groq LLaMA3-8B, Groq LLaMA3-70B) in various portfolios, and recorded key metrics.  A summary of each follows:

### Performance Summary

| Portfolio                                                                   | Model          | Response                                                                                                                                                                             | Response Accuracy        | Response Time/Latency (seconds) | Tool Selection Efficiency | Quality of Financial Advice |
| :-------------------------------------------------------------------------- | :------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------- | :----------------------------- | :-------------------------- | :-------------------------- |
| `{"AAPL": 0.50, "TSLA": 0.30, "GOOGL": 0.20}`                             | OpenAI GPT4    | The portfolio needs rebalancing. Sell 'AAPL' to decrease its weight by 0.1667. Buy 'TSLA' to increase its weight by 0.0333. Buy 'GOOGL' to increase its weight by 0.1333.         | Accurate calculation     | 22.49                          | Basic                     | Basic                     |
|                                                                             | Groq LLaMA3-8B | "The portfolio needs rebalancing, and the suggested actions are to sell AAPL, buy TSLA, and buy GOOGL. However, before taking any action, we should consider the feasibility of these actions based on the current stock prices." | Goes a step beyond calculating rebalancing | 5.79                           | Advanced                  | Advanced                  |
|                                                                             | Groq LLaMA3-70B | To rebalance the portfolio, sell AAPL to decrease its weight by 0.1667, buy TSLA to increase its weight by 0.0333, and buy GOOGL to increase its weight by 0.1333                 | Accurate calculation     | 6.04                           | Basic                     | Basic                     |
| `{"MSFT": 0.25, "NVDA": 0.25, "AMZN": 0.25, "META": 0.25}`                             | OpenAI GPT4    | The portfolio is balanced. No rebalancing actions are needed.                  | Correct | 26.97                          | Basic                     | Sub-par                     |
|                                                                             | Groq LLaMA3-8B | Agent stopped due to iteration limit or time limit.               | Failed     | 160.68                           | Failed                  | Failed                  |
|                                                                             | Groq LLaMA3-70B | The portfolio is currently balanced and does not require any rebalancing actions                 | Correct     | 23.99                           | Basic                     | Basic                     |
| `{"NVDA": 0.90, "TSLA": 0.10}`                                             | OpenAI GPT4    | The portfolio is imbalanced. The recommended actions are to sell NVDA and decrease its weight by 0.4 and to buy TSLA and increase its weight by 0.4.                          | Accurate calculation     | 13.97                          | Basic                     | Basic                     |
|                                                                             | Groq LLaMA3-8B | The portfolio is imbalanced, with NVDA making up 90% of the portfolio and TSLA making up 10%. To rebalance the portfolio, I would recommend selling some NVDA and buying some TSLA | Accurate calculation     | 21.41                          | Basic                     | Basic                     |
|                                                                             | Groq LLaMA3-70B | Based on the analysis, the portfolio is imbalanced and needs rebalancing... I recommend selling NVDA and decreasing its weight by 0.4, and buying TSLA and increasing its weight by 0.4 | Accurate calculation     | 25.71                          | Basic                     | Basic                     |
| `{"MSFT": 0.33, "GOOGL": 0.33, "AMZN": 0.34}`                | OpenAI GPT4    | The portfolio needs rebalancing. Increase the weights of 'MSFT' and 'GOOGL' by 0.0033 each, and decrease the weight of 'AMZN' by 0.0067. | Correct but sub-par     | 16.33                          | Basic                                                                      | Sub-par. Should have market + trend factored |
|                                                                             | Groq LLaMA3-8B | Agent stopped due to iteration limit or time limit.                                                                             | Failed     | 119.17                          | Failed                                                                      | Failed                   |
|                                                                             | Groq LLaMA3-70B | Based on the analysis, the portfolio is imbalanced and needs rebalancing... Buy MSFT: Increase weight by 0.0033, Buy GOOGL: Increase weight by 0.0033, and Sell AMZN: Decrease weight by 0.0067.  | Correct but sub-par    | 28.94                          | Basic                                                                      | Sub-par. Should have market + trend factored                  |
| `{"BTC": 1.0} ` | OpenAI GPT4    | The portfolio is balanced and does not need any changes.                                                                             | Incorrect     | 7.09                          | Incorrect. Tool didn't understand the larger context correctly                                                                      | Incorrect                 |
|                                                                             | Groq LLaMA3-8B | The portfolio should be rebalanced by adding traditional stocks, such as Apple (AAPL), to diversify the risk.                                                                            | Correctly identified in edge case   | 14.00                          | Basic                                                                      | Good                        |
|                                                                             | Groq LLaMA3-70B | The portfolio is currently balanced, but it's not diversified. I recommend adding more assets to the portfolio to reduce risk. Consider adding other assets such as stocks or bonds to create a more diversified portfolio.                                                                             | Correctly identified in edge case + better explanation   | 24.09                          | Basic                                                                      | Nice                        |



LLaMA3-8B model is the best in understanding larger context and task and purpose, and using the right tools, though it failed due to iteration limits. If this issue could be resolved, I would choose LLaMA3-8B model. LLaMA3-70B offers a solid tradeoff of speed and cost for real-time analysis and could be ranked second.
